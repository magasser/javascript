var dollarAlphabet = ' @@    @    @    @    @    @    @    @    @    @    @    @    @@@A@@  ______  @ /      \\ @/$$$$$$  |@$$ |__$$ |@$$    $$ |@$$$$$$$$ |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@B@@ _______  @/       \\ @$$$$$$$  |@$$ |__$$ |@$$    $$< @$$$$$$$  |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @          @          @          @@@C@@  ______  @ /      \\ @/$$$$$$  |@$$ |  $$/ @$$ |      @$$ |   __ @$$ \\__/  |@$$    $$/ @ $$$$$$/  @          @          @          @@@D@@ _______  @/       \\ @$$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @          @          @          @@@E@@ ________ @/        |@$$$$$$$$/ @$$ |__    @$$    |   @$$$$$/    @$$ |_____ @$$       |@$$$$$$$$/ @          @          @          @@@F@@ ________ @/        |@$$$$$$$$/ @$$ |__    @$$    |   @$$$$$/    @$$ |      @$$ |      @$$/       @          @          @          @@@G@@  ______  @ /      \\ @/$$$$$$  |@$$ | _$$/ @$$ |/    |@$$ |$$$$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@H@@ __    __ @/  |  /  |@$$ |  $$ |@$$ |__$$ |@$$    $$ |@$$$$$$$$ |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@I@@ ______ @/      |@$$$$$$/ @  $$ |  @  $$ |  @  $$ |  @ _$$ |_ @/ $$   |@$$$$$$/ @        @        @        @@@J@@    _____ @   /     |@   $$$$$ |@      $$ |@ __   $$ |@/  |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@K@@ __    __ @/  |  /  |@$$ | /$$/ @$$ |/$$/  @$$  $$<   @$$$$$  \\  @$$ |$$  \\ @$$ | $$  |@$$/   $$/ @          @          @          @@@L@@ __       @/  |      @$$ |      @$$ |      @$$ |      @$$ |      @$$ |_____ @$$       |@$$$$$$$$/ @          @          @          @@@M@@ __       __ @/  \\     /  |@$$  \\   /$$ |@$$$  \\ /$$$ |@$$$$  /$$$$ |@$$ $$ $$/$$ |@$$ |$$$/ $$ |@$$ | $/  $$ |@$$/      $$/ @             @             @             @@@N@@ __    __ @/  \\  /  |@$$  \\ $$ |@$$$  \\$$ |@$$$$  $$ |@$$ $$ $$ |@$$ |$$$$ |@$$ | $$$ |@$$/   $$/ @          @          @          @@@O@@  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@P@@ _______  @/       \\ @$$$$$$$  |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @$$ |      @$$ |      @$$/       @          @          @          @@@Q@@  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |_ $$ |@$$ / \\$$ |@$$ $$ $$< @ $$$$$$  |@     $$$/ @          @          @@@R@@ _______  @/       \\ @$$$$$$$  |@$$ |__$$ |@$$    $$< @$$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@S@@  ______  @ /      \\ @/$$$$$$  |@$$ \\__$$/ @$$      \\ @ $$$$$$  |@/  \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@T@@ ________ @/        |@$$$$$$$$/ @   $$ |   @   $$ |   @   $$ |   @   $$ |   @   $$ |   @   $$/    @          @          @          @@@U@@ __    __ @/  |  /  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@V@@ __     __ @/  |   /  |@$$ |   $$ |@$$ |   $$ |@$$  \\ /$$/ @ $$  /$$/  @  $$ $$/   @   $$$/    @    $/     @           @           @           @@@W@@ __       __ @/  |  _  /  |@$$ | / \\ $$ |@$$ |/$  \\$$ |@$$ /$$$  $$ |@$$ $$/$$ $$ |@$$$$/  $$$$ |@$$$/    $$$ |@$$/      $$/ @             @             @             @@@X@@ __    __ @/  |  /  |@$$ |  $$ |@$$  \\/$$/ @ $$  $$<  @  $$$$  \\ @ $$ /$$  |@$$ |  $$ |@$$/   $$/ @          @          @          @@@Y@@ __      __ @/  \\    /  |@$$  \\  /$$/ @ $$  \\/$$/  @  $$  $$/   @   $$$$/    @    $$ |    @    $$ |    @    $$/     @            @            @            @@@Z@@ ________ @/        |@$$$$$$$$/ @    /$$/  @   /$$/   @  /$$/    @ /$$/____ @/$$      |@$$$$$$$$/ @          @          @          @@@a@@          @          @  ______  @ /      \\ @ $$$$$$  |@ /    $$ |@/$$$$$$$ |@$$    $$ |@ $$$$$$$/ @          @          @          @@@b@@ __       @/  |      @$$ |____  @$$      \\ @$$$$$$$  |@$$ |  $$ |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @          @          @          @@@c@@          @          @  _______ @ /       |@/$$$$$$$/ @$$ |      @$$ \\_____ @$$       |@ $$$$$$$/ @          @          @          @@@d@@       __ @      /  |@  ____$$ |@ /    $$ |@/$$$$$$$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$ |@ $$$$$$$/ @          @          @          @@@e@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$    $$ |@$$$$$$$$/ @$$       |@ $$$$$$$/ @          @          @          @@@f@@  ______  @ /      \\ @/$$$$$$  |@$$ |_ $$/ @$$   |    @$$$$/     @$$ |      @$$ |      @$$/       @          @          @          @@@g@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ \\__$$ |@$$    $$ |@ $$$$$$$ |@/  \\__$$ |@$$    $$/ @ $$$$$$/  @@@h@@ __       @/  |      @$$ |____  @$$      \\ @$$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@i@@ __ @/  |@$$/ @/  |@$$ |@$$ |@$$ |@$$ |@$$/ @    @    @    @@@j@@          @          @       __ @      /  |@      $$/ @      /  |@      $$ |@      $$ |@ __   $$ |@/  \\__$$ |@$$    $$/ @ $$$$$$/  @@@k@@ __       @/  |      @$$ |   __ @$$ |  /  |@$$ |_/$$/ @$$   $$<  @$$$$$$  \\ @$$ | $$  |@$$/   $$/ @          @          @          @@@l@@ __ @/  |@$$ |@$$ |@$$ |@$$ |@$$ |@$$ |@$$/ @    @    @    @@@m@@              @              @ _____  ____  @/     \\/    \\ @$$$$$$ $$$$  |@$$ | $$ | $$ |@$$ | $$ | $$ |@$$ | $$ | $$ |@$$/  $$/  $$/ @              @              @              @@@n@@          @          @ _______  @/       \\ @$$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@o@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@p@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @$$ |      @$$ |      @$$/       @@@q@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ \\__$$ |@$$    $$ |@ $$$$$$$ |@      $$ |@      $$ |@      $$/ @@@r@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$/ @$$ |      @$$ |      @$$/       @          @          @          @@@s@@          @          @  _______ @ /       |@/$$$$$$$/ @$$      \\ @ $$$$$$  |@/     $$/ @$$$$$$$/  @          @          @          @@@t@@   __     @  /  |    @ _$$ |_   @/ $$   |  @$$$$$$/   @  $$ | __ @  $$ |/  |@  $$  $$/ @   $$$$/  @          @          @          @@@u@@          @          @ __    __ @/  |  /  |@$$ |  $$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@v@@           @           @ __     __ @/  \\   /  |@$$  \\ /$$/ @ $$  /$$/  @  $$ $$/   @   $$$/    @    $/     @           @           @           @@@w@@              @              @ __   __   __ @/  | /  | /  |@$$ | $$ | $$ |@$$ | $$ | $$ |@$$ \\_$$ \\_$$ |@$$   $$   $$/ @ $$$$$/$$$$/  @              @              @              @@@x@@          @          @ __    __ @/  \\  /  |@$$  \\/$$/ @ $$  $$<  @ /$$$$  \\ @/$$/ $$  |@$$/   $$/ @          @          @          @@@y@@          @          @ __    __ @/  |  /  |@$$ |  $$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$ |@ $$$$$$$ |@/  \\__$$ |@$$    $$/ @ $$$$$$/  @@@z@@          @          @ ________ @/        |@$$$$$$$$/ @  /  $$/  @ /$$$$/__ @/$$      |@$$$$$$$$/ @          @          @          @@@.@@    @    @    @    @    @    @ __ @/  |@$$/ @    @    @    @@@!@@ __ @/  |@$$ |@$$ |@$$ |@$$/ @ __ @/  |@$$/ @    @    @    @@@?@@  ____  @ /    \\ @/$$$$  |@$$  $$ |@   /$$/ @  /$$/  @  $$/   @  /  |  @  $$/   @        @        @        ';
var isoAlphabet = ' @@   @   @   @   @   @   @   @   @   @   @   @@@A@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\/__\\:\\/:/  /@      \\::/  / @      /:/  /  @     /:/  /   @     \\/__/    @@@B@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\__\\ @ /:/\\:\\ \\:|__|@ \\:\\~\\:\\/:/  /@  \\:\\ \\::/  / @   \\:\\/:/  /  @    \\::/__/   @     ~~       @@@C@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /:/  \\:\\  \\ @ /:/__/ \\:\\__\\@ \\:\\  \\  \\/__/@  \\:\\  \\      @   \\:\\  \\     @    \\:\\__\\    @     \\/__/    @@@D@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /:/  \\:\\__\\ @ /:/__/ \\:|__|@ \\:\\  \\ /:/  /@  \\:\\  /:/  / @   \\:\\/:/  /  @    \\::/__/   @     ~~       @@@E@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\:\\~\\:\\ \\/__/@  \\:\\ \\:\\__\\  @   \\:\\ \\/__/  @    \\:\\__\\    @     \\/__/    @@@F@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\/__\\:\\ \\/__/@      \\:\\__\\  @       \\/__/  @              @              @@@G@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /:/  \\:\\  \\ @ /:/__/_\\:\\__\\@ \\:\\  /\\ \\/__/@  \\:\\ \\:\\__\\  @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@H@@      ___     @     /\\__\\    @    /:/  /    @   /:/__/     @  /::\\  \\ ___ @ /:/\\:\\  /\\__\\@ \\/__\\:\\/:/  /@      \\::/  / @      /:/  /  @     /:/  /   @     \\/__/    @@@I@@            @      ___   @     /\\  \\  @     \\:\\  \\ @     /::\\__\\@  __/:/\\/__/@ /\\/:/  /   @ \\::/__/    @  \\:\\__\\    @   \\/__/    @            @@@J@@       ___   @      /\\  \\  @      \\:\\  \\ @  ___ /::\\__\\@ /\\  /:/\\/__/@ \\:\\/:/  /   @  \\::/  /    @   \\/__/     @             @             @             @@@K@@      ___     @     /\\__\\    @    /:/  /    @   /:/__/     @  /::\\__\\____ @ /:/\\:::::\\__\\@ \\/_|:|~~|~   @    |:|  |    @    |:|  |    @    |:|  |    @     \\|__|    @@@L@@      ___ @     /\\__\\@    /:/  /@   /:/  / @  /:/  /  @ /:/__/   @ \\:\\  \\   @  \\:\\  \\  @   \\:\\  \\ @    \\:\\__\\@     \\/__/@@@M@@      ___     @     /\\__\\    @    /::|  |   @   /:|:|  |   @  /:/|:|__|__ @ /:/ |::::\\__\\@ \\/__/~~/:/  /@       /:/  / @      /:/  /  @     /:/  /   @     \\/__/    @@@N@@      ___     @     /\\__\\    @    /::|  |   @   /:|:|  |   @  /:/|:|  |__ @ /:/ |:| /\\__\\@ \\/__|:|/:/  /@     |:/:/  / @     |::/  /  @     /:/  /   @     \\/__/    @@@O@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /:/  \\:\\  \\ @ /:/__/ \\:\\__\\@ \\:\\  \\ /:/  /@  \\:\\  /:/  / @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@P@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\/__\\:\\/:/  /@      \\::/  / @       \\/__/  @              @              @@@Q@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @   \\:\\~\\:\\  \\ @    \\:\\ \\:\\__\\@     \\:\\/:/  /@      \\::/  / @      /:/  /  @     /:/  /   @     \\/__/    @@@R@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\/_|::\\/:/  /@    |:|::/  / @    |:|\\/__/  @    |:|  |    @     \\|__|    @@@S@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\ \\  \\  @  _\\:\\~\\ \\  \\ @ /\\ \\:\\ \\ \\__\\@ \\:\\ \\:\\ \\/__/@  \\:\\ \\:\\__\\  @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@T@@      ___     @     /\\  \\    @     \\:\\  \\   @      \\:\\  \\  @      /::\\  \\ @     /:/\\:\\__\\@    /:/  \\/__/@   /:/  /     @   \\/__/      @              @              @@@U@@      ___     @     /\\__\\    @    /:/  /    @   /:/  /     @  /:/  /  ___ @ /:/__/  /\\__\\@ \\:\\  \\ /:/  /@  \\:\\  /:/  / @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@V@@      ___     @     /\\__\\    @    /:/  /    @   /:/  /     @  /:/__/  ___ @  |:|  | /\\__\\@  |:|  |/:/  /@  |:|__/:/  / @   \\::::/__/  @    ~~~~      @              @@@W@@      ___     @     /\\__\\    @    /:/ _/_   @   /:/ /\\__\\  @  /:/ /:/ _/_ @ /:/_/:/ /\\__\\@ \\:\\/:/ /:/  /@  \\::/_/:/  / @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@X@@      ___     @     |\\__\\    @     |:|  |   @     |:|  |   @     |:|__|__ @ ____/::::\\__\\@ \\::::/~~/~   @  ~~|:|~~|    @    |:|  |    @    |:|  |    @     \\|__|    @@@Y@@      ___     @     |\\__\\    @     |:|  |   @     |:|  |   @     |:|__|__ @     /::::\\__\\@    /:/~~/~   @   /:/  /     @   \\/__/      @              @              @@@Z@@      ___     @     /\\  \\    @     \\:\\  \\   @      \\:\\  \\  @       \\:\\  \\ @ _______\\:\\__\\@ \\::::::::/__/@  \\:\\~~\\~~    @   \\:\\  \\     @    \\:\\__\\    @     \\/__/    @@@' +
'!@@              @              @      ____    @     /\\       @    /::\\___\\     @              @   /:/  /     @   \\/__/      @              @              ';
var cyberAlphabet = ' @@  @  @  @  @@@A@@____ @|__| @|  | @     @@@B@@___  @|__] @|__] @     @@@C@@____ @|    @|___ @     @@@D@@___  @|  \\ @|__/ @     @@@E@@____ @|___ @|___ @     @@@F@@____ @|___ @|    @     @@@G@@____ @| __ @|__] @     @@@H@@_  _ @|__| @|  | @     @@@I@@_ @| @| @  @@@J@@ _ @ | @_| @   @@@K@@_  _ @|_/  @| \\_ @     @@@L@@_    @|    @|___ @     @@@M@@_  _ @|\\/| @|  | @     @@@N@@_  _ @|\\ | @| \\| @     @@@O@@____ @|  | @|__| @     @@@P@@___  @|__] @|    @     @@@Q@@____ @|  | @|_\\| @     @@@R@@____ @|__/ @|  \\ @     @@@S@@____ @[__  @___] @     @@@T@@___ @ |  @ |  @    @@@U@@_  _ @|  | @|__| @     @@@V@@_  _ @|  | @ \\/  @     @@@W@@_ _ _ @| | | @|_|_| @      @@@X@@_  _ @ \\/  @_/\\_ @     @@@Y@@_   _ @ \\_/  @  |   @      @@@';
var alphabetString =
"a=.-;b=-...;c=-.-.;d=-..;e=.;f=..-;g=--.;h=....;i=..;j=.---;k=-.-;l=.-..;" +
"m=--;n=-.;o=---;p=.---.;q=--.-;r=.-.;s=...;t=-;u=..-;v=...-;w=.--;x=-..-;" +
"y=-.-;z=--..; =/;.=.-.-.-;,=--..--;?=..--..;!=-.-.--";

function Char(value) {
  this.value = value;
  return this;
}

function Font(name, chars, lineHeight = 1) {
  this.name = name;
  this.chars = chars;
  console.log(this.chars['!']);
  this.lineHeight = lineHeight;
}

function SingleLineChar(value, string) {
  Char.call(this, value);
  this.string = string;
}

function MultiLineChar(value, lines) {
  Char.call(this, value);
  this.lines = lines;
}

Char.prototype.getValue = function() {
  return this.value;
}

Font.prototype.render = function (text) {
  var res = [];
  var chars = text.split('');
  that = this;
  var line = 0;
  for(var i = 0; i < this.lineHeight; i++) {
    res[i] = '';
    chars.forEach(function(char) {
      if(that.chars[char] instanceof SingleLineChar) {
        res[i] += that.chars[char].getString()[i];
      } else {
        res[i] += that.chars[char.toUpperCase()].getLine(i);
      }
    });
  }

  return res;
};

Font.prototype.write = function(text, to) {
  to = to || console.log;
  var out = this.render(text);
  out.forEach(function(item) {
    to(item);
  });
}

SingleLineChar.prototype = Object.create(Char.prototype);
SingleLineChar.prototype.constructor = SingleLineChar;
SingleLineChar.prototype.getString = function() {
  return this.string;
}

MultiLineChar.prototype = Object.create(Char.prototype);
MultiLineChar.prototype.constructor = MultiLineChar;
MultiLineChar.prototype.getLine = function(index) {
  return this.lines[index]
}

var createMultiLine = function(alphabet) {
  var chars = alphabet.split('@@@');
  var charMap = [];

  chars.forEach(function(char) {
    var res = char.split('@@');
    lines = res[1].split('@');
    charMap[res[0]] = new MultiLineChar(res[0], lines);
  });
  return charMap;
}

var iso = new Font('iso', createMultiLine(isoAlphabet), 11);
//var dollar = new Font('dollar', createMultiLine(dollarAlphabet), 9);
//var cyber = new Font('cyber', createMultiLine(cyberAlphabet), 4);

iso.write('C is best !!');

chars = alphabetString.split(';');
charMap = [];

chars.forEach(function(item) {
  var res = item.split('=');
  charMap[res[0]] = new SingleLineChar(res[0], [res[1]]);
});

//var morse = new Font('morse', charMap);

//morse.write('hello world');

console.log('Done!');
